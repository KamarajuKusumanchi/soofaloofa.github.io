<!DOCTYPE html>
<html lang="en">
<head>

<title>A Guided Tour of Google Compute Engine : sookocheff.com</title>

<meta charset="utf-8">
<meta http-equiv="content-type", content="text/html; charset=utf-8">
<meta name="viewport", content="width=device-width, initial-scale=1.0">

<link rel="canonical" href="http://sookocheff.com/posts/2014-11-05-a-guided-tour-of-compute-engine/">

<link rel="stylesheet" href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.css">
<link rel="stylesheet" href="//fonts.googleapis.com/css?family=Bree+Serif">
<link rel="stylesheet" href="//fonts.googleapis.com/css?family=Open+Sans">
<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.2/styles/default.min.css">

<link rel="stylesheet" href="/css/vendor/bootstrap.min.css">
<link rel="stylesheet" href="/css/vendor/monokai_sublime.css">
<link rel="stylesheet" href="/css/style.css">

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-20611089-6', 'sookocheff.com');
  ga('send', 'pageview');
</script>




</head>
<body>

<div class="navbar navbar-default" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" data-toggle="collapse" data-target=".navbar-collapse" class="navbar-toggle">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a href="/" class="navbar-brand">Kevin Sookocheff</a>
    </div>
    <div class="navbar-collapse collapse">
      <ul class="nav navbar-nav navbar-right">
        <li class="">
          <a href="/posts/">Blog</a>
        </li>
        <li class="dropdown">
          <a href="#" data-toggle="dropdown" class="dropdown-toggle">
            Subscribe <b class="caret"></b>
          </a>
          <ul class="dropdown-menu">
            <li><a href="http://eepurl.com/KJE01">email</a></li>
            <li><a href="http://sookocheff.com/index.xml">RSS</a></li>
          </ul>
        </li>
      </ul>
    </div>
  </div>
</div>


<div class="container page-container">
  <div class="row">
    <div class="col-md-8 col-md-offset-2">
      <section class="page">
        <article class="post">
          <h1>A Guided Tour of Google Compute Engine</h1>
          <p>
            <small class="text-muted">
              Posted on Wednesday, November 5, 2014 · <a href="http://sookocheff.com/posts/2014-11-05-a-guided-tour-of-compute-engine//#disqus_thread">0 Comments</a>
            </small>
          </p>

          <div class=".post-content">
            

<h2 id="overview:d7a4cf20ba6fc9a7008ea6a4fe87eb88">Overview</h2>

<p>The Google <a href="https://www.youtube.com/watch?v=43gvHZyPRVk">Compute Engine core
concepts video</a> provides a great
overview of the technology. Please take a moment to watch it. As the video
shows, Compute Engine is defined by Resources, and each of these Resources is
available through the Compute Engine API. You can access this API through the
Google API Explorer or by installing the <a href="https://cloud.google.com/sdk/">gcloud sdk</a>.</p>

<h2 id="key-resources:d7a4cf20ba6fc9a7008ea6a4fe87eb88">Key Resources</h2>

<p>There are few basic resources required to get up and running with any virtual
machine running on Compute Engine. These are Images, Instances and
Disks.</p>

<p><a class="thumbnail" href="/img/2014-11-05-a-guided-tour-of-compute-engine/ImagesInstancesDisks.png">
  <img src="/img/2014-11-05-a-guided-tour-of-compute-engine/ImagesInstancesDisks.png" alt="Images, Instances and Disks">
</a>
</p>

<h3 id="images:d7a4cf20ba6fc9a7008ea6a4fe87eb88">Images</h3>

<p>An Image contains a boot loader, an operating system and a root file system that
are necessary for starting up an instance.  For all intents and purposes, you
can think of the Image as the OS that you are running.</p>

<h3 id="disks:d7a4cf20ba6fc9a7008ea6a4fe87eb88">Disks</h3>

<p>The Disk acts as a filesystem. They operate as physical disks attached to your
virtual machine but are more analogous to a network attached file system. As an
example, we can separate a disk from a virtual machine and reattach it to
another virtual machine.</p>

<h3 id="instances:d7a4cf20ba6fc9a7008ea6a4fe87eb88">Instances</h3>

<p>An Instance encapsulates the concept of a virtual machine. The virtual machine
runs the OS and root filesystem defined by the image you choose at create time.</p>

<h2 id="instance-groups:d7a4cf20ba6fc9a7008ea6a4fe87eb88">Instance Groups</h2>

<p>The Key Resources show how a single virtual machine as viewed through the lens of
the Compute Engine ecosystem.</p>

<p>A single virtual machine is great, but modern web services usually require
multiple machines working in concert to provide a scalable and fault tolerant
system. Compute Engine offers the abstraction of <code>Instance Groups</code> to represent
a group of virtual machines.</p>

<p>Instance Groups allow you to collectively manage a set of virtual machines and
attach services to that group of machines. A service is a simple label attached
to the group that advertises this group of virtual machines as providing the
same backend web service.</p>

<p><a class="thumbnail" href="/img/2014-11-05-a-guided-tour-of-compute-engine/InstanceGroup.png">
  <img src="/img/2014-11-05-a-guided-tour-of-compute-engine/InstanceGroup.png" alt="Instance Groups">
</a>
</p>

<h2 id="instance-group-manager:d7a4cf20ba6fc9a7008ea6a4fe87eb88">Instance Group Manager</h2>

<p>Instance Groups operate over a set of virtual machines. To add a virtual machine
to an Instance Group you first spin up your virtual machine and then call the
Instance Group API to tell Compute Engine that this Instance is now part of an
Instance Group.</p>

<p>The Instance Group Manager automates how virtual machines are added to the
Instance Group. There are a few caveats. First, instances in a managed Instance
Group must be homogenous.  That means they must all be created using the same
base image, disk and machine type. To facilitate this homogeneity the Instance
Group Manager operates over an Instance abstraction called an Instance Template.</p>

<h3 id="instance-templates:d7a4cf20ba6fc9a7008ea6a4fe87eb88">Instance Templates</h3>

<p>Instance templates are configuration files that define the settings of an
Instance (and by extension of an Image and Disk). Instance templates can define
some or all of the configuration options. For example, the OS, the RAM, or the
hard drive size. Instance templates separate the configuration of your virtual
machine from the creation and running of the virtual machine.</p>

<p>When creating a new managed Instance Group you specify the Instance Template to
use for the Group. You also tell the Instance Group Manager the size of your
Instance Group. The Instance Group Manager will create that number of instances
and assign them to your managed group. You can then resize your Group with one
command and those Instances will be brought to life and join your Instance
Group. If any Instances are destroyed or deleted the manager will bring them
back to life for you.</p>

<p><a class="thumbnail" href="/img/2014-11-05-a-guided-tour-of-compute-engine/InstanceGroupManager.png">
  <img src="/img/2014-11-05-a-guided-tour-of-compute-engine/InstanceGroupManager.png" alt="Instance Group Manager.">
</a>
</p>

<h2 id="regions-zones:d7a4cf20ba6fc9a7008ea6a4fe87eb88">Regions &amp; Zones</h2>

<p>Compute Engine allows you to specify the region and zone where your virtual
machine exists. This gives you control over where your data is stored and used.</p>

<p>Regions are broad categories such as central US or eastern Asia. Zones are
subdivisions within a region such as zone <code>a</code> or zone <code>b</code>. The way to reference
a zone is as <code>&lt;region&gt;-&lt;zone&gt;</code>. For example <code>&lt;us-central1-a&gt;</code> has the region
us-central1 and the zone <code>a</code>.</p>

<p>To build a fault tolerant system ideally you want to have your Instances spread
out over multiple zones. To distribute your system globally you can spread your
instances across multiple regions. In the following example, we have two
separate Managed Instance Groups in two different zones.</p>

<p><a class="thumbnail" href="/img/2014-11-05-a-guided-tour-of-compute-engine/RegionsAndZones.png">
  <img src="/img/2014-11-05-a-guided-tour-of-compute-engine/RegionsAndZones.png" alt="Instance Group Manager">
</a>
</p>

<h2 id="load-balancing:d7a4cf20ba6fc9a7008ea6a4fe87eb88">Load Balancing</h2>

<p>Now we have a group of virtual machines running the same hardware that can be
easily resized with the Instance Group Manager. The question now is how do we
address these machines?  This is where a load balancer comes into play. There
are a lot of moving parts in the load balancer. Thankfully they all perform very
particular tasks and once you set it up you don&rsquo;t have to worry about it
anymore.</p>

<h3 id="the-backend-service:d7a4cf20ba6fc9a7008ea6a4fe87eb88">The Backend Service</h3>

<p>To use HTTP load balancing we need to declare our instance groups as backend
services. This is a simple label attached to the group. In effect we are telling
Compute Engine which groups are related to one another.</p>

<p><a class="thumbnail" href="/img/2014-11-05-a-guided-tour-of-compute-engine/BackendServices.png">
  <img src="/img/2014-11-05-a-guided-tour-of-compute-engine/BackendServices.png" alt="Backend Services">
</a>
</p>

<h3 id="url-maps:d7a4cf20ba6fc9a7008ea6a4fe87eb88">URL Maps</h3>

<p>URL maps define what URL requests to send to what backend service. For example ,
we can route requests to the url <code>/static</code> to a different backend service
than requests to the url <code>/</code>. In this example we have a URL Map that routes
requests with the pattern <code>/static</code> and <code>/images</code> to the <code>static</code> Backend
Service. Any other requests are routed to the <code>web</code> service.</p>

<p><a class="thumbnail" href="/img/2014-11-05-a-guided-tour-of-compute-engine/UrlMap.png">
  <img src="/img/2014-11-05-a-guided-tour-of-compute-engine/UrlMap.png" alt="Url Map">
</a>
</p>

<h3 id="target-http-proxy:d7a4cf20ba6fc9a7008ea6a4fe87eb88">Target HTTP Proxy</h3>

<p>The Target HTTP Proxy is a simple proxy that receives requests and routes them
to the URL Maps.</p>

<p><a class="thumbnail" href="/img/2014-11-05-a-guided-tour-of-compute-engine/TargetHttpProxy.png">
  <img src="/img/2014-11-05-a-guided-tour-of-compute-engine/TargetHttpProxy.png" alt="Target HTTP Proxy">
</a>
</p>

<h3 id="global-forwarding-rule:d7a4cf20ba6fc9a7008ea6a4fe87eb88">Global Forwarding Rule</h3>

<p>The global forwarding rule provides an external IP address that we can use to
address our instances. This IP address routes to the target HTTP proxy which
ultimately directs our traffic to the proper Backend Service through the URL Map.</p>

<p><a class="thumbnail" href="/img/2014-11-05-a-guided-tour-of-compute-engine/GlobalForwardingRule.png">
  <img src="/img/2014-11-05-a-guided-tour-of-compute-engine/GlobalForwardingRule.png" alt="Global Forwarding Rule">
</a>
</p>

<h2 id="conclusion:d7a4cf20ba6fc9a7008ea6a4fe87eb88">Conclusion</h2>

<p>That completes our guided tour of Compute Engine. Given this foundation you
should have a solid base with which to navigate the documentation and explore
the API.</p>
 
          </div>

          <hr>
            <ul class="list-inline">
  <li>Share this post:</li>
  <li>
    <a href="https://twitter.com/intent/tweet?url=http%3a%2f%2fsookocheff.com%2fposts%2f2014-11-05-a-guided-tour-of-compute-engine%2f&text=A%20Guided%20Tour%20of%20Google%20Compute%20Engine&via=soofaloofa">
      <i class="fa fa-twitter fa-lg"></i>
    </a>
  </li>
  <li>
    <a href="https://facebook.com/sharer.php?u=http%3a%2f%2fsookocheff.com%2fposts%2f2014-11-05-a-guided-tour-of-compute-engine%2f">
      <i class="fa fa-facebook fa-lg"></i>
    </a>
  </li>
  <li>
    <a href="https://plus.google.com/share?url=http%3a%2f%2fsookocheff.com%2fposts%2f2014-11-05-a-guided-tour-of-compute-engine%2f">
      <i class="fa fa-google-plus fa-lg"></i>
    </a>
  </li>
  <li>
    <a href="http://www.linkedin.com/shareArticle?mini=true&url=http%3a%2f%2fsookocheff.com%2fposts%2f2014-11-05-a-guided-tour-of-compute-engine%2f">
      <i class="fa fa-linkedin fa-lg"></i>
    </a>
  </li>
  <li>
    <a href="mailto:?subject=Check out this link&body=http%3a%2f%2fsookocheff.com%2fposts%2f2014-11-05-a-guided-tour-of-compute-engine%2f">
      <i class="fa fa-envelope fa-lg"></i>
    </a>
  </li>
</ul>

          <hr>

          <div class="blurb">
            <div class="row">
              <div class="col-md-10 col-md-offset-1">
                <h4 class="text-center">About Kevin Sookocheff</h4>
              </div>
            </div>

            <div class="row">
              <div class="col-md-4 col-md-offset-1">
                <p>
                  <img class="img-circle center-block" src="/img/profile.png">
                </p>
              </div>
              <div class="col-md-6">
                <p>
                  I am a Software Developer. I work at <a
  href="http://www.vendasta.com">VendAsta</a> with a bunch of great people. I
run a business as <a href="http://redfinchsoftware.com">Red Finch Software</a>.
You can find me online as <a
href="https://twitter.com/soofaloofa">soofaloofa</a>. I love to teach, learn,
speak, and write about business and software. 

                  <ul class="list-inline">
                    <li>On the web:</li>
                    <li><a href="http://www.twitter.com/soofaloofa"><i class="fa fa-twitter-square fa-lg"></i></a></li>
                    <li><a href="http://www.facebook.com/kevin.sookocheff"><i class="fa fa-facebook-square fa-lg"></i></a></li>
                    <li><a href="http://www.linkedin.com/in/kevinsookocheff"><i class="fa fa-linkedin-square fa-lg"></i></a></li>
                    <li><a href="https://plus.google.com/+KevinSookocheff"><i class="fa fa-google-plus-square fa-lg"></i></a></li>
                    <li><a href="https://github.com/soofaloofa"><i class="fa fa-github-square fa-lg"></i></a></li>
                    <li><a href="http://sookocheff.com/rss.xml"><i class="fa fa-rss-square fa-lg"></i></a></li>
                  </ul>
                </p>
              </div>
            </div>
          </div>
          <hr>

          <div id="disqus_thread"></div>
<script type="text/javascript">
     
    var disqus_shortname = 'kevinsookocheff'; 

     
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

        </article>
      </section>
    </div>
  </div>
</div>

<footer>
 <div class="footer-above text-center">
   <div class="container">
     <div class="row">
       <div class="footer-col col-md-3">
         <h3>App Engine</h3>
         <ul class="list-unstyled">
           <li><a href="/series/mapreduce-api/">MapReduce API</a></li>
           <li><a href="/series/cloud-endpoints/">Cloud Endpoints</a></li>
         </ul>
       </div>

       <div class="footer-col col-md-3">
         <h3>APIs</h3>
         <ul class="list-unstyled">
           <li>
             <a href="/posts/2014-03-11-on-choosing-a-hypermedia-format/">On Choosing a Hypermedia Format</a>
           </li>
           <li>
             <a href="/posts/2014-03-27-when-to-use-http-put-and-http-post/">When to use HTTP PUT</a>
           </li>
         </ul>
       </div>

       <div class="footer-col col-md-3">
         <h3>Random</h3>
         <ul class="list-unstyled">
           <li>
           <a href="http://sookocheff.com/posts/2013-04-09-submitting-a-unity3d-game-to-the-mac-app-store/"> Unity3d on the Mac App Store</a>
           </li>
           <li>
             <a href="http://sookocheff.com/posts/2011-07-27-saving-canvas-data-to-an-image-file-with-javascript-and-php/">Saving Canvas Data to an Image</a>
           </li>
         </ul>
       </div>

       <div class="footer-col col-md-3">
         <h3>Social</h3>
         <ul class="list-unstyled">
           <li><a href="http://www.twitter.com/soofaloofa">Twitter</a></li>
           <li><a href="http://www.facebook.com/kevin.sookocheff">Facebook</a></li>
           <li><a href="http://www.linkedin.com/in/kevinsookocheff">LinkedIn</a></li>
           <li><a href="https://plus.google.com/+KevinSookocheff">Google+</a></li>
           <li><a href="https://github.com/soofaloofa">Github</a></li>
         </ul>
       </div>
     </div>
   </div>
 </div>
 <div class="footer-below text-center">
     <div class="container">
         <div class="row">
             <div class="col-lg-12">
                 &copy; Kevin Sookocheff · <a href="#">Top</a>
             </div>
         </div>
     </div>
 </div>
</footer>

<script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script src="//netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.2/highlight.min.js"></script>
<script src="/js/vendor/retina.min.js"></script>
<script>hljs.initHighlightingOnLoad();</script>
<script type="text/javascript">
 
var disqus_shortname = 'kevinsookocheff'; 

 
(function () {
var s = document.createElement('script'); s.async = true;
s.type = 'text/javascript';
s.src = 'http://' + disqus_shortname + '.disqus.com/count.js';
(document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
}());
</script>
</body>
</html>

